<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mhshops Mini App</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="static/css/styles.css">
</head>
<body>
  <div class="header">
    <div class="logo">
      <img src="/static/images/logo.png" alt="Logo">
      <span>Mshops</span>
    </div>
    <div class="icons">
      <button onclick="openCart()">
        üõí <span id="cartCount">0</span>
      </button>
      <button class="menu-btn" onclick="openMenu()">‚ò∞</button>
    </div>
  </div>
  <div class="menu-sidebar" id="menuSidebar">
    <button class="close-btn" onclick="closeMenu()">‚úñ</button>
    <div class="ad">
      <img src="/static/images/es3.webp" alt="Sidebar Ad">
    </div>
    <ul>
      <li onclick="showMyOrders()"><i>üìã</i> –ú–æ–∏ –∑–∞–∫–∞–∑—ã</li>
      <li onclick="showDeliveryInfo()"><i>üöö</i> –î–æ—Å—Ç–∞–≤–∫–∞</li>
      <li onclick="showPaymentInfo()"><i>üí≥</i> –û–ø–ª–∞—Ç–∞</li>
      <li onclick="showAboutInfo()"><i>üè¨</i> –û –º–∞–≥–∞–∑–∏–Ω–µ</li>
      <li onclick="showReviews()"><i>‚≠ê</i> –û—Ç–∑—ã–≤—ã</li>
      <li onclick="showContactInfo()"><i>üìû</i> –ö–æ–Ω—Ç–∞–∫—Ç—ã</li>
      <li onclick="showChannel()"><i>üì¢</i> –ù–∞ –Ω–∞—à –∫–∞–Ω–∞–ª</li>
      <li onclick="showAdminPanel()"><i>üîß</i> –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</li>
    </ul>
  </div>
  <div class="search-bar">
    <input type="text" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." oninput="searchProducts(this.value)">
    <button id="filterBtn" onclick="showFilters()">üõ†</button>
  </div>
  <div class="banner" id="banner" onclick="bannerClick()">
    <img src="/static/images/es1.webp" alt="Banner 1">
    <img src="/static/images/es2.webp" alt="Banner 2" class="hidden">
    <img src="/static/images/es3.webp" alt="Banner 3" class="hidden">
  </div>
 <button class="premium-btn" onclick="showPremiumProduct()">–ü—Ä–µ–º–∏—É–º: –¢–æ–ø –ø—Ä–æ–¥–∞–∂ –Ω–∞—É—à–Ω–∏–∫–∏</button>

  <div class="popup-overlay" id="premiumPopup" data-product-id="5" style="display: none;">
    <div class="popup-content">
      <h2>–ü—Ä–µ–º–∏—É–º —Ç–æ–≤–∞—Ä</h2>
      <img src="/static/images/naushnik.png" alt="naushniki" style="max-width: 100%; border-radius: 10px;">
      <p><strong>–ù–∞—É—à–Ω–∏–∫–∏ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞</strong></p>
      <p>–¶–µ–Ω–∞: <strong>23232 ‚ÇΩ</strong></p>
      <div style="margin-top: 15px;">
        <button onclick="confirmAddPremium()">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
        <button onclick="closePremiumPopup()">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>
  <div class="categories">
    <div class="category active" onclick="filterCategory('all')">–í—Å–µ</div>
    <div class="category" onclick="filterCategory('electronics')">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</div>
    <div class="category" onclick="filterCategory('clothing')">–û–¥–µ–∂–¥–∞</div>
  </div>
  <div class="product-grid" id="productGrid"></div>
  <div class="cart-sidebar" id="cartSidebar">
    <button class="close-btn" onclick="closeCart()">‚úñ</button>
    <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
    <div id="cartItems"></div>
    <button class="checkout-btn" onclick="openCheckoutPopup()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
    <button class="clear-cart-btn" onclick="clearCart()">–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
  </div>
  <div class="filter-popup" id="filterPopup" style="display: none;">
    <div class="filter-popup-content">
      <button class="close-btn" onclick="closeFilterPopup()">‚úñ</button>
      <h2>–§–∏–ª—å—Ç—Ä—ã</h2>
      <p>–î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω: <span id="priceRangeDisplay">0 ‚ÇΩ - 30000 ‚ÇΩ</span></p>
      <button onclick="selectFilter('price')">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—É</button>
      <button onclick="selectFilter('new')">–ü–æ –Ω–æ–≤–∏–∑–Ω–µ</button>
      <button onclick="selectFilter('popular')">–ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏</button>
      <button onclick="selectFilter('reset')">–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
    </div>
  </div>
<div class="checkout-popup" id="checkoutPopup">
    <div class="checkout-popup-content">
        <button class="close-btn" onclick="closeCheckoutPopup()">‚úñ</button>
        <h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
        <form id="checkoutForm">
            <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω:
                <input type="tel" id="phone" name="phone" placeholder="+7 (999) 123-45-67" pattern="\+7[0-9]{10}">
            </label>
            <label for="address">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏:
                <input type="text" id="address" name="address" placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º">
            </label>
            <label for="delivery_method">–°–ø–æ—Å–æ–± –¥–æ—Å—Ç–∞–≤–∫–∏:
                <select id="delivery_method" name="delivery_method" required>
                    <option value="–ö—É—Ä—å–µ—Ä">–ö—É—Ä—å–µ—Ä</option>
                    <option value="–ü–æ—á—Ç–∞">–ü–æ—á—Ç–∞</option>
                    <option value="–°–∞–º–æ–≤—ã–≤–æ–∑">–°–∞–º–æ–≤—ã–≤–æ–∑</option>
                </select>
            </label>
   <label for="payment_method">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:
        <select id="payment_method" name="payment_method" required>
            <option value="–ù–∞–ª–∏—á–Ω—ã–µ">–ù–∞–ª–∏—á–Ω—ã–µ</option>
            <option value="–ö–∞—Ä—Ç–∞" selected>–ö–∞—Ä—Ç–∞</option>
        </select>
    </label>
    <button type="submit">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
        </form>
        <div id="payment-element"></div> <!-- –î–ª—è Stripe Elements -->
    </div>
</div>
  <div class="admin-panel-popup" id="adminPanelPopup" style="display: none;">
    <div class="filter-popup-content">
      <button class="close-btn" onclick="closeAdminPanel()">‚úñ</button>
      <h2>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
      <button onclick="showAddProductForm()">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
      <h3>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</h3>
      <div id="adminProductList"></div>
    </div>
  </div>
  <div class="add-product-popup" id="addProductPopup" style="display: none;">
    <div class="filter-popup-content">
      <button class="close-btn" onclick="closeAddProductPopup()">‚úñ</button>
      <h2>–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h2>
      <form id="addProductForm" enctype="multipart/form-data">
        <label>–ù–∞–∑–≤–∞–Ω–∏–µ:
          <input type="text" name="name" required placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞">
        </label>
        <label>–¶–µ–Ω–∞ (‚ÇΩ):
          <input type="number" name="price" required placeholder="–¶–µ–Ω–∞" min="0" step="0.01">
        </label>
        <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
          <input type="file" name="img" accept="image/*" onchange="previewImage(event)">
          <img id="imagePreview" style="display: none; max-width: 100%; margin-top: 10px;">
        </label>
        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:
          <select name="category" required>
            <option value="electronics">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</option>
            <option value="clothing">–û–¥–µ–∂–¥–∞</option>
          </select>
        </label>
        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
      </form>
    </div>
  </div>
  <script src="https://js.stripe.com/v3/"></script>
  <script src="static/js/app.js"></script>
<button id="scrollUpBtn" aria-label="Scroll to top">
  <span>&uarr;</span>
</button>
</body>
</html>